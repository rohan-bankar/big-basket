"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2675,3589],{53589:function(e,t,r){r.d(t,{_:function(){return g},z:function(){return k}});var n=r(98026),o=r(59499);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=r(50029),u=r(87794),s=r.n(u),l=r(86199),p=r(61215),d=r(6462),y=r(92135),f=function(e){return function(){e({type:"error",payload:{view:!0,type:"apiError"}})}},w=function(e){return function(t){e({type:"page_loader",payload:t})}},b=function(e){return(0,i.Z)(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.v.getHeader();case 2:if(null===(r=t.sent)||void 0===r||!r.member_info){t.next=7;break}return t.next=6,e({type:"update_user_info",payload:r.member_info});case 6:window.sessionStorage.setItem("memberInfo",JSON.stringify(r.member_info));case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))},v=function(e,t){return(0,i.Z)(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(e)();case 2:h(e,t)();case 3:case"end":return r.stop()}}),r)})))},m=function(e,t){return function(){var r=(0,i.Z)(s().mark((function r(n){var o,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={url:"/payment_svc/v2/payment/get-sdk-params/",payload:{txn_type:"fund_wallet",channel:"wapi",amount:n,app_version:"web",context:{bb_version:"2.0"}},flow:"wallet",isBB2Flow:!0,wallet_url:"/wallet/v1/transaction/",methods:{invokeErrorHandling:f(e),loader:w(e),handle403Failure:v(e,t),paymentInitiated:(0,y.E_)({txnType:"bb wallet"})},customHeaders:{"X-csurftoken":(c="csurftoken",p.CookieService.getCookie(c)),"X-Channel":(0,d.Z)()}},"tcp"!==localStorage.getItem("utmSource")&&"urlRedirect"!==localStorage.getItem("authFlow")&&"true"!==sessionStorage.getItem("isRedirectedFromTCP")||(o.payload.payment_method_locking=!1,o.customHeaders["X-Entry-context-id"]="15",o.customHeaders["X-Entry-context"]="tataneu-b2c"),r.prev=2,r.next=5,window.BBPayments.start(o);case 5:if(1e3!=(a=r.sent).status){r.next=11;break}w(e)(!1),e({type:"error",payload:{view:!0,type:"coError",message:a.response.error,link:"/member/wallet/"}}),r.next=22;break;case 11:r.t0=a,r.next="fallback"===r.t0?14:"Networkerror"===r.t0?17:20;break;case 14:return w(e)(!1),e({type:"error",payload:{view:!0,type:"coError",message:"Oops, Something went wrong. Please try again after sometime",link:"/member/wallet/"}}),r.abrupt("break",22);case 17:return w(e)(!1),e({type:"error",payload:{view:!0,type:"apiError"}}),r.abrupt("break",22);case 20:window.sessionStorage.setItem("bbTxnId",window.BBPayments.session()),w(e)(!1);case 22:r.next=28;break;case 24:r.prev=24,r.t1=r.catch(2),w(e)(!1),e({type:"error",payload:{view:!0,type:"apiError"}});case 28:case"end":return r.stop()}var c}),r,null,[[2,24]])})));return function(e){return r.apply(this,arguments)}}()},h=function(e,t){return(0,i.Z)(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(w(e)(!0),n=sessionStorage.getItem("walletAmount")){r.next=6;break}return e({type:"error",payload:{view:!0,type:"coError",message:"Oops, Something went wrong. Please try again after sometime",link:"/member/wallet/"}}),w(e)(!1),r.abrupt("return");case 6:return r.next=8,e({type:"recharge_amount",payload:n});case 8:return r.next=10,b(e)();case 10:return r.next=12,m(e,t)(n);case 12:case"end":return r.stop()}}),r)})))},O=(0,n.Z)((function(e,t){switch(t.type){case"error":return c(c({},e),{},{error:{view:t.payload.view,type:t.payload.type,message:t.payload.message,link:t.payload.link,external:t.payload.external}});case"page_loader":return c(c({},e),{},{pageLoader:t.payload});case"recharge_amount":return c(c({},e),{},{WalletRecharge:t.payload});case"SkuEntryPoint":return c(c({},e),{},{enableOfferEnterSKuId:t.payload.enableOfferEnterSKuId});default:return e}}),{init:h,enableOfferEntryPoint:function(e){return function(){var t=(0,i.Z)(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({type:"SkuEntryPoint",payload:{enableOfferEnterSKuId:r}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{enableOfferEnterSKuId:"",pageLoader:!1,error:{view:!1,type:"",message:"",link:""},WalletRecharge:"",orderSummary:{}}),g=O.Context,k=O.Provider},98026:function(e,t,r){var n=r(59499),o=r(67294),a=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e,t,r){var n=o.createContext();return{Context:n,Provider:function(c){var u=c.children,s=(0,o.useReducer)(e,r),l=s[0],p=s[1],d={};for(var y in t)d[y]=t[y](p,l);return(0,a.jsx)(n.Provider,{value:i({state:l},d),children:u})}}}},92135:function(e,t,r){r.d(t,{Al:function(){return p},E_:function(){return s},ne:function(){return l}});var n=r(59499),o=r(40219),a=r(19031),c=r(86110);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){var t=e.orderIds,r=void 0===t?[]:t,n=e.txnType,c=void 0===n?"":n,i="",s="";switch(c){case"paynow":i="Paynow_PaymentInitiated",s="paynow";break;case"wallet":i="Wallet_FundingInitiated",s="wallet";break;default:i="Checkout_PaymentInitiated",s="Checkout"}return function(e){var t,n,l,p,d="WALLETPREPAID"===(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.payment_method)?"wallet":null===e||void 0===e||null===(n=e.payload)||void 0===n?void 0:n.payment_method,y={EventName:i,PaymentMode:d,TxnId:(null===(l=window)||void 0===l||null===(p=l.BBPayments)||void 0===p?void 0:p.session())||"",EventSubGroup:s,AdditionalInfo2:"Juspay"};null!==r&&void 0!==r&&r.length&&(y.OrderId=[r[0]]),(0,o.triggerSnowplowEventForPaymentInteractions)(u({},y)),"checkout"===c&&(0,o.triggerSnowplowEventCheckoutInteractions)({EventName:"Checkout_PlaceOrderClicked",EventSubGroup:"placeorderclicked",Action:"PlaceOrderClicked"}),(0,a.pm)("txnType",c),(0,a.pm)("paymentMode",d),(0,a.pm)("orderIds",r)}},l=function(e){var t=e.txnType,r=void 0===t?"":t,n=e.isFailed,i=void 0!==n&&n,s=e.errorMessage,l=void 0===s?"":s,p=e.orderNumber,d=void 0===p?"":p,y=e.paymentMethod,f=void 0===y?"":y,w="",b="";switch(r){case"paynow":w=i?"PayNow_PaymentFailed":"PayNow_PaymentSuccess",b="paynow";break;case"wallet":w=i?"Wallet_FundingFailed":"Wallet_FundingSuccess",b="wallet";break;default:w=i?"Checkout_PaymentFailed":"Checkout_PaymentSuccess",b="checkout"}var v=JSON.parse((0,a.PM)("orderIds"));"walletPrepaid"===f&&(f="wallet");var m={EventName:w,PaymentMode:f||JSON.parse((0,a.PM)("paymentMode"))||"",TxnId:(0,c.m3)("bbTxnId")||"",OrderNumber:[d],EventSubGroup:b,AdditionalInfo2:"Juspay"};null!==v&&void 0!==v&&v.length&&(m=u(u({},m),{},{OrderId:v})),i&&(m=u(u({},m),{},{Reason:l})),(0,o.triggerSnowplowEventForPaymentInteractions)(u({},m)),(0,a.Uq)("txnType"),(0,a.Uq)("paymentMode"),(0,a.Uq)("orderIds")},p=function(e){var t=e.txnType,r=void 0===t?"":t,n=e.status,a=void 0!==n&&n,c=e.Paymentpage,i=void 0===c?"":c,s="",l="",p="";switch(r){case"paynow":s=a?"PayNow_Neucoinschecked":"PayNow_NeucoinsUnchecked",l="paynow",p=a?"checkNeucoins":"uncheckNeucoins";break;case"NeucoinVisiblityStatus":s="checkout"===i?"Checkout_NeucoinsShown":"Paynow_NeucoinsShown",l="checkout"===i?"checkout":"paynow",p="show neucoins";break;case"checkout":s=a?"Checkout_Neucoinschecked":"Checkout_NeucoinsUnchecked",l="checkout",p=a?"checkNeucoins":"uncheckNeucoins"}var d={EventName:s,Action:p,EventSubGroup:l};return(0,o.triggerSnowplowEventCheckoutInteractions)(u({},d))}},17744:function(e,t,r){var n=r(59499),o=r(4730),a=r(97650),c=r(10926),i=r(96758),u=r(85893),s=["href","type","external","id","handleInViewBanner","alt"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.href,r=void 0===t?"":t,n=e.type,l=e.external,d=e.id,y=e.handleInViewBanner,f=e.alt,w=(0,o.Z)(e,s),b=function(){return(0,u.jsx)(i.Z,{href:r,external:l,children:(0,u.jsx)(c.default,p(p({},w),{},{alt:f,className:"border border-silverSurfer-300 rounded",priority:!0}))})};return"Banner"===n?(0,u.jsx)(a.df,{as:"div",trackVisibility:!0,delay:500,threshold:.9,onChange:function(e){d&&e&&y({bannerId:d})},children:(0,u.jsx)(b,{})}):(0,u.jsx)(b,{})}}}]);